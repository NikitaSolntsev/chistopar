{"ast":null,"code":"import React from'react';import{CatalogSort}from'./';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ReviewsBlock(_ref){var props=_ref.props;var reviews=props.reviews;function getRightEndingFound(total){if(total<5&&total!=0){if(total==1){return'отзыв';}else{return'отзыва';}}else{return'отзывов';}}function getRatingCount(arr){return arr.length;}function getAverageReview(arr){var sum_rating=0;arr.map(function(item,index){sum_rating+=Number(item.rating);});return String((sum_rating/arr.length).toFixed(1));}function getRatingStars(rating){var stars=[];for(var i=0;i<5;i++){if(rating>i){stars.push(/*#__PURE__*/_jsx(\"svg\",{className:\"star active\",width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8 12.216L12.944 15.2L11.632 9.576L16 5.792L10.248 5.304L8 0L5.752 5.304L0 5.792L4.368 9.576L3.056 15.2L8 12.216Z\",fill:\"#E3E3E3\"})},\"\".concat(i,\"_\").concat(rating)));}else{stars.push(/*#__PURE__*/_jsx(\"svg\",{className:\"star\",width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8 12.216L12.944 15.2L11.632 9.576L16 5.792L10.248 5.304L8 0L5.752 5.304L0 5.792L4.368 9.576L3.056 15.2L8 12.216Z\",fill:\"#E3E3E3\"})},\"\".concat(i,\"_\").concat(rating)));}}return/*#__PURE__*/_jsx(\"div\",{className:\"rating\",children:stars});}return/*#__PURE__*/_jsxs(\"div\",{className:\"ReviewsBlock\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"common_title\",children:\"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B \\u043F\\u043E\\u0441\\u0435\\u0442\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"review-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center justify-content-between review-list__top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"review review-big\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"review-tag\",children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"14\",height:\"15\",viewBox:\"0 0 14 15\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"g\",{children:/*#__PURE__*/_jsx(\"path\",{d:\"M7 11.189L11.326 13.8L10.178 8.879L14 5.568L8.967 5.141L7 0.5L5.033 5.141L0 5.568L3.822 8.879L2.674 13.8L7 11.189Z\",fill:\"#CF9259\"})}),/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsx(\"clipPath\",{id:\"clip0_1623_8617\",children:/*#__PURE__*/_jsx(\"rect\",{width:\"14\",height:\"14\",fill:\"white\",transform:\"translate(0 0.5)\"})})})]}),/*#__PURE__*/_jsx(\"span\",{children:getAverageReview(reviews)})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"btn btn-dark\",children:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"review-count text-gray\",children:[getRatingCount(reviews),\" \",getRightEndingFound(getRatingCount(reviews))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(CatalogSort,{items:['По умолчанию','По рейтингу','По дате создания']})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"review-list__items\",children:reviews&&reviews.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"review-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:\"\\u0415\\u043A\\u0430\\u0442\\u0435\\u0440\\u0438\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:item.created_at}),item.rating&&getRatingStars(Number(item.rating))]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"review-text\",children:[item.advantage?/*#__PURE__*/_jsxs(\"div\",{className:\"review-text__selection\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"review_text__label\",children:\"\\u0414\\u043E\\u0441\\u0442\\u043E\\u0438\\u043D\\u0441\\u0442\\u0432\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"review-text__main\",children:item.advantage})]}):'',item.flaw?/*#__PURE__*/_jsxs(\"div\",{className:\"review-text__selection\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"review_text__label\",children:\"\\u041D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0430\\u0442\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{className:\"review-text__main\",children:item.flaw})]}):'']})})]})},\"\".concat(item.id,\"_\").concat(index));})})]})]});}export default ReviewsBlock;","map":{"version":3,"sources":["/Users/nikitasolncev/Desktop/Работа/chistopar/chistopar-2/chistopar/src/components/ReviewsBlock.jsx"],"names":["React","CatalogSort","ReviewsBlock","props","reviews","getRightEndingFound","total","getRatingCount","arr","length","getAverageReview","sum_rating","map","item","index","Number","rating","String","toFixed","getRatingStars","stars","i","push","created_at","advantage","flaw","id"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { CatalogSort } from './';\n\nfunction ReviewsBlock( {props} ){\n\n    const reviews = props.reviews;\n\n    function getRightEndingFound( total ){\n\n        if ( ( total < 5 ) && ( total != 0 ) ){\n            if ( total == 1 ){\n                return 'отзыв'; \n            }else{\n                return 'отзыва';\n            }\n        }else{\n            return 'отзывов'; \n        }\n\n    }\n\n    function getRatingCount( arr ){\n        return arr.length\n    }\n\n     function getAverageReview( arr ){\n\n        var sum_rating = 0;\n\n        arr.map( (item, index) => {\n            sum_rating += Number( item.rating );\n        } );\n\n        return String((sum_rating/(arr.length)).toFixed(1));    \n\n    }\n\n\n    function getRatingStars ( rating ){\n\n        let stars = [];\n\n        for (let i = 0; i < 5; i++) {\n\n            if ( rating > i ){\n                stars.push(<svg key={`${i}_${rating}`} className=\"star active\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8 12.216L12.944 15.2L11.632 9.576L16 5.792L10.248 5.304L8 0L5.752 5.304L0 5.792L4.368 9.576L3.056 15.2L8 12.216Z\" fill=\"#E3E3E3\"/></svg>);\n            }else{\n                stars.push(<svg  key={`${i}_${rating}`} className=\"star\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8 12.216L12.944 15.2L11.632 9.576L16 5.792L10.248 5.304L8 0L5.752 5.304L0 5.792L4.368 9.576L3.056 15.2L8 12.216Z\" fill=\"#E3E3E3\"/></svg>);\n            }\n\n        }\n\n        return (\n            <div className=\"rating\">\n                { stars }\n            </div>\n        )\n\n    }\n\n\treturn (\n\n\t\t<div className=\"ReviewsBlock\">\n          <h2 className=\"common_title\">Отзывы посетителей</h2>\n          <div className=\"review-list\">\n            <div className=\"row align-items-center justify-content-between review-list__top\">\n              <div className=\"col-lg-auto\">\n                <div className=\"review review-big\">\n                  <div className=\"review-tag\">\n                    <svg width=\"14\" height=\"15\" viewBox=\"0 0 14 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g><path d=\"M7 11.189L11.326 13.8L10.178 8.879L14 5.568L8.967 5.141L7 0.5L5.033 5.141L0 5.568L3.822 8.879L2.674 13.8L7 11.189Z\" fill=\"#CF9259\"/></g><defs><clipPath id=\"clip0_1623_8617\"><rect width=\"14\" height=\"14\" fill=\"white\" transform=\"translate(0 0.5)\"/></clipPath></defs></svg>\n                    <span>{ getAverageReview(reviews) }</span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-lg-auto\">\n                <div className=\"wrapper\">\n                  <a href=\"#\" className=\"btn btn-dark\">Оставить отзыв</a>\n                </div>\n              </div>\n            </div>\n            <div className=\"row justify-content-between align-items-center\">\n              <div className=\"col-auto\">\n                <div className=\"review-count text-gray\">\n                  {getRatingCount(reviews)} {getRightEndingFound(getRatingCount(reviews))}\n                </div> \n              </div>\n              <div className=\"col-auto\">\n\n                <CatalogSort items={[ 'По умолчанию', 'По рейтингу', 'По дате создания']} />\n\n              </div>\n            </div>\n            <div className=\"review-list__items\">\n\n                {\n                    reviews && reviews.map( (item, index) => (\n\n                        <div className=\"review-item\" key={`${item.id}_${index}`}>\n                            <div className=\"row\">\n                              <div className=\"col-md-3\">\n                                <div className=\"name\">\n                                  Екатерина\n                                </div>\n                                <div className=\"date\">\n                                  {item.created_at}\n                                </div>\n                                {\n                                    item.rating && (\n                                        getRatingStars( Number(item.rating) )\n                                    )\n                                }\n                              </div>\n                              <div className=\"col-md-9\">\n                                <div className=\"review-text\">\n                                    {\n                                        item.advantage ? (\n\n                                            <div className=\"review-text__selection\">\n                                                <div className=\"review_text__label\">\n                                                  Достоинства\n                                                </div>\n                                                <div className=\"review-text__main\">\n                                                  { item.advantage }\n                                                </div>\n                                            </div>\n\n                                        ) : ''\n                                    }\n                                    {\n                                        item.flaw ? (\n\n                                            <div className=\"review-text__selection\">\n                                                <div className=\"review_text__label\">\n                                                  Недостатки\n                                                </div>\n                                                <div className=\"review-text__main\">\n                                                  { item.flaw }\n                                                </div>\n                                            </div>\n\n                                        ) : ''\n                                    }\n\n                                </div>\n                                \n                              </div>\n                            </div>\n                          </div>\n\n                    ) ) \n                }\n                \n            </div>\n            \n          </div>\n        </div>\n\n\t);\n\n}\n\nexport default ReviewsBlock;"]},"metadata":{},"sourceType":"module"}