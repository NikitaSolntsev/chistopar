{"ast":null,"code":"import _slicedToArray from\"/Users/nikitasolncev/Desktop/\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430/chistopar/chistopar-2/chistopar/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CatalogSort(_ref){var items=_ref.items;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),visiblePopup=_React$useState2[0],setVisiblePopup=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),activeItem=_React$useState4[0],setActiveItem=_React$useState4[1];var sortRef=React.useRef();var activeLabel=items[activeItem];var onSelectItem=function onSelectItem(index){setActiveItem(index);setVisiblePopup(false);};var toggleVisiblePopup=function toggleVisiblePopup(){setVisiblePopup(!visiblePopup);};var handleOutsideClick=function handleOutsideClick(e){if(!e.path.includes(sortRef.current)){setVisiblePopup(false);}};React.useEffect(function(){document.body.addEventListener('click',handleOutsideClick);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-sort\",ref:sortRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-sort-label \".concat(visiblePopup?'active':''),onClick:toggleVisiblePopup,children:[/*#__PURE__*/_jsx(\"span\",{children:activeLabel}),/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"17\",viewBox:\"0 0 16 17\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M13 11.5L8 6.5L3 11.5\",stroke:\"black\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})]}),visiblePopup&&/*#__PURE__*/_jsx(\"div\",{className:\"catalog-sort-popup\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"catalog-sort-popup-container\",children:items&&items.map(function(name,index){return/*#__PURE__*/_jsxs(\"li\",{className:activeItem===index?'active':'',onClick:function onClick(){return onSelectItem(index);},children:[/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"17\",viewBox:\"0 0 16 17\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M1.99988 8.26471L6.23529 12.5L14 4.5\",stroke:\"black\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})}),name]},\"\".concat(name,\"_\").concat(index));})})})]});}export default CatalogSort;","map":{"version":3,"sources":["/Users/nikitasolncev/Desktop/Работа/chistopar/chistopar-2/chistopar/src/components/CatalogSort.jsx"],"names":["React","CatalogSort","items","useState","visiblePopup","setVisiblePopup","activeItem","setActiveItem","sortRef","useRef","activeLabel","onSelectItem","index","toggleVisiblePopup","handleOutsideClick","e","path","includes","current","useEffect","document","body","addEventListener","map","name"],"mappings":"uLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,WAAT,MAA+B,IAARC,CAAAA,KAAQ,MAARA,KAAQ,CAE7B,oBAAwCF,KAAK,CAACG,QAAN,CAAe,KAAf,CAAxC,oDAAOC,YAAP,qBAAqBC,eAArB,qBACA,qBAAoCL,KAAK,CAACG,QAAN,CAAe,CAAf,CAApC,qDAAOG,UAAP,qBAAmBC,aAAnB,qBACA,GAAMC,CAAAA,OAAO,CAAGR,KAAK,CAACS,MAAN,EAAhB,CACA,GAAMC,CAAAA,WAAW,CAAGR,KAAK,CAACI,UAAD,CAAzB,CAEA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BL,aAAa,CAACK,KAAD,CAAb,CACAP,eAAe,CAAC,KAAD,CAAf,CACD,CAHD,CAKA,GAAMQ,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/BR,eAAe,CAAC,CAACD,YAAF,CAAf,CACD,CAFD,CAIA,GAAMU,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,CAAD,CAAO,CAChC,GAAK,CAACA,CAAC,CAACC,IAAF,CAAOC,QAAP,CAAgBT,OAAO,CAACU,OAAxB,CAAN,CAAyC,CACvCb,eAAe,CAAC,KAAD,CAAf,CACD,CACF,CAJD,CAMAL,KAAK,CAACmB,SAAN,CAAgB,UAAM,CACpBC,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,CAAwCR,kBAAxC,EACD,CAFD,CAEG,EAFH,EAID,mBACC,aAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAGN,OAApC,wBACI,aAAK,SAAS,8BAA0BJ,YAAY,CAAG,QAAH,CAAc,EAApD,CAAd,CAAwE,OAAO,CAAGS,kBAAlF,wBACE,sBAAOH,WAAP,EADF,cAEE,YAAK,KAAK,CAAC,IAAX,CAAgB,MAAM,CAAC,IAAvB,CAA4B,OAAO,CAAC,WAApC,CAAgD,IAAI,CAAC,MAArD,CAA4D,KAAK,CAAC,4BAAlE,uBAA+F,aAAM,CAAC,CAAC,uBAAR,CAAgC,MAAM,CAAC,OAAvC,CAA+C,WAAW,CAAC,GAA3D,CAA+D,aAAa,CAAC,OAA7E,CAAqF,cAAc,CAAC,OAApG,EAA/F,EAFF,GADJ,CAKKN,YAAY,eACX,YAAK,SAAS,CAAC,oBAAf,uBACE,WAAI,SAAS,CAAC,8BAAd,UAEIF,KAAK,EAAIA,KAAK,CAACqB,GAAN,CAAW,SAACC,IAAD,CAAOZ,KAAP,qBAClB,YAAI,SAAS,CAAEN,UAAU,GAAKM,KAAf,CAAuB,QAAvB,CAAkC,EAAjD,CAAqD,OAAO,CAAG,yBAAMD,CAAAA,YAAY,CAACC,KAAD,CAAlB,EAA/D,wBAAuH,YAAK,KAAK,CAAC,IAAX,CAAgB,MAAM,CAAC,IAAvB,CAA4B,OAAO,CAAC,WAApC,CAAgD,IAAI,CAAC,MAArD,CAA4D,KAAK,CAAC,4BAAlE,uBAA+F,aAAM,CAAC,CAAC,sCAAR,CAA+C,MAAM,CAAC,OAAtD,CAA8D,WAAW,CAAC,GAA1E,CAA8E,aAAa,CAAC,OAA5F,CAAoG,cAAc,CAAC,OAAnH,EAA/F,EAAvH,CAAyVY,IAAzV,aAAoGA,IAApG,aAA4GZ,KAA5G,EADkB,EAAX,CAFb,EADF,EANN,GADD,CAqBA,CAED,cAAeX,CAAAA,WAAf","sourcesContent":["import React from 'react';\n\nfunction CatalogSort( {items} ){\n\n  const [visiblePopup, setVisiblePopup] = React.useState(false);\n  const [activeItem, setActiveItem] = React.useState(0)\n  const sortRef = React.useRef();\n  const activeLabel = items[activeItem];\n\n  const onSelectItem = (index) => {\n    setActiveItem(index);\n    setVisiblePopup(false);\n  }\n\n  const toggleVisiblePopup = () => {\n    setVisiblePopup(!visiblePopup);\n  }\n\n  const handleOutsideClick = (e) => {\n    if ( !e.path.includes(sortRef.current) ) {\n      setVisiblePopup(false);\n    }\n  }\n\n  React.useEffect(() => {\n    document.body.addEventListener('click', handleOutsideClick );\n  }, [])\n\n\treturn(\n\t\t<div className=\"catalog-sort\" ref={ sortRef } >\n      <div className={ `catalog-sort-label ${ visiblePopup ? 'active' : '' }`}onClick={ toggleVisiblePopup }>\n        <span>{activeLabel}</span>\n        <svg width=\"16\" height=\"17\" viewBox=\"0 0 16 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13 11.5L8 6.5L3 11.5\" stroke=\"black\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>\n      </div>\n      {visiblePopup && (\n        <div className=\"catalog-sort-popup\">\n          <ul className=\"catalog-sort-popup-container\">\n            { \n              items && items.map( (name, index) => ( \n                <li className={activeItem === index ? 'active' : ''} onClick={ () => onSelectItem(index) }  key={`${name}_${index}`}  ><svg width=\"16\" height=\"17\" viewBox=\"0 0 16 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1.99988 8.26471L6.23529 12.5L14 4.5\" stroke=\"black\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>{name}</li>\n                )\n              ) \n            }\n          </ul>\n        </div>\n      )}\n      \n    </div>\n\t);\n}\n\nexport default CatalogSort;"]},"metadata":{},"sourceType":"module"}