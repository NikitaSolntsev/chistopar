{"ast":null,"code":"var _jsxFileName = \"/Users/nikitasolncev/Desktop/\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430/chistopar/chistopar-2/chistopar/src/components/ReviewsBlock.jsx\";\nimport React from 'react';\nimport { CatalogSort } from './';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ReviewsBlock(_ref) {\n  let {\n    props\n  } = _ref;\n  const reviews = props.reviews;\n\n  function getRightEndingFound(total) {\n    if (total < 5 && total != 0) {\n      if (total == 1) {\n        return 'отзыв';\n      } else {\n        return 'отзыва';\n      }\n    } else {\n      return 'отзывов';\n    }\n  }\n\n  function getRatingCount(arr) {\n    return arr.length;\n  }\n\n  function getAverageReview(arr) {\n    var sum_rating = 0;\n    arr.map((item, index) => {\n      sum_rating += Number(item.rating);\n      console.log(sum_rating);\n    });\n    sum_rating = sum_rating / sum_rating.length;\n    return String(sum_rating);\n  }\n\n  function getRatingStars(rating) {\n    let stars = [];\n\n    for (let i = 0; i < 5; i++) {\n      if (rating > i) {\n        stars.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"star active\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M8 12.216L12.944 15.2L11.632 9.576L16 5.792L10.248 5.304L8 0L5.752 5.304L0 5.792L4.368 9.576L3.056 15.2L8 12.216Z\",\n            fill: \"#E3E3E3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 170\n          }, this)\n        }, `${i}_${rating}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 28\n        }, this));\n      } else {\n        stars.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"star\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M8 12.216L12.944 15.2L11.632 9.576L16 5.792L10.248 5.304L8 0L5.752 5.304L0 5.792L4.368 9.576L3.056 15.2L8 12.216Z\",\n            fill: \"#E3E3E3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 163\n          }, this)\n        }, `${i}_${rating}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 28\n        }, this));\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rating\",\n      children: stars\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ReviewsBlock\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"common_title\",\n      children: \"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B \\u043F\\u043E\\u0441\\u0435\\u0442\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row align-items-center justify-content-between review-list__top\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"review review-big\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"review-tag\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"14\",\n                height: \"15\",\n                viewBox: \"0 0 14 15\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: [/*#__PURE__*/_jsxDEV(\"g\", {\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M7 11.189L11.326 13.8L10.178 8.879L14 5.568L8.967 5.141L7 0.5L5.033 5.141L0 5.568L3.822 8.879L2.674 13.8L7 11.189Z\",\n                    fill: \"#CF9259\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 119\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 116\n                }, this), /*#__PURE__*/_jsxDEV(\"defs\", {\n                  children: /*#__PURE__*/_jsxDEV(\"clipPath\", {\n                    id: \"clip0_1623_8617\",\n                    children: /*#__PURE__*/_jsxDEV(\"rect\", {\n                      width: \"14\",\n                      height: \"14\",\n                      fill: \"white\",\n                      transform: \"translate(0 0.5)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 74,\n                      columnNumber: 301\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 270\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 264\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: getAverageReview(reviews)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"btn btn-dark\",\n              children: \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"review-count text-gray\",\n            children: [getRatingCount(reviews), \" \", getRightEndingFound(getRatingCount(reviews))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-auto\",\n          children: /*#__PURE__*/_jsxDEV(CatalogSort, {\n            items: ['По умолчанию', 'По рейтингу', 'По дате создания']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-list__items\",\n        children: reviews && reviews.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review-item\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"name\",\n                children: \"\\u0415\\u043A\\u0430\\u0442\\u0435\\u0440\\u0438\\u043D\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"date\",\n                children: item.created_at\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this), item.rating && getRatingStars(Number(item.rating))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-9\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"review-text\",\n                children: [item.advantage ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"review-text__selection\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"review_text__label\",\n                    children: \"\\u0414\\u043E\\u0441\\u0442\\u043E\\u0438\\u043D\\u0441\\u0442\\u0432\\u0430\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"review-text__main\",\n                    children: item.advantage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 45\n                }, this) : '', item.flaw ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"review-text__selection\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"review_text__label\",\n                    children: \"\\u041D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0430\\u0442\\u043A\\u0438\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"review-text__main\",\n                    children: item.flaw\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 45\n                }, this) : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this)\n        }, `${item.id}_${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 3\n  }, this);\n}\n\n_c = ReviewsBlock;\nexport default ReviewsBlock;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReviewsBlock\");","map":{"version":3,"sources":["/Users/nikitasolncev/Desktop/Работа/chistopar/chistopar-2/chistopar/src/components/ReviewsBlock.jsx"],"names":["React","CatalogSort","ReviewsBlock","props","reviews","getRightEndingFound","total","getRatingCount","arr","length","getAverageReview","sum_rating","map","item","index","Number","rating","console","log","String","getRatingStars","stars","i","push","created_at","advantage","flaw","id"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { CatalogSort } from './';\n\nfunction ReviewsBlock( {props} ){\n\n    const reviews = props.reviews;\n\n    function getRightEndingFound( total ){\n\n        if ( ( total < 5 ) && ( total != 0 ) ){\n            if ( total == 1 ){\n                return 'отзыв'; \n            }else{\n                return 'отзыва';\n            }\n        }else{\n            return 'отзывов'; \n        }\n\n    }\n\n    function getRatingCount( arr ){\n        return arr.length\n    }\n\n     function getAverageReview( arr ){\n\n        var sum_rating = 0;\n\n        arr.map( (item, index) => {\n            sum_rating += Number( item.rating );\n            console.log(sum_rating);\n        } );\n\n        sum_rating = sum_rating/sum_rating.length;  \n\n        return String(sum_rating);    \n\n    }\n\n\n    function getRatingStars ( rating ){\n\n        let stars = [];\n\n        for (let i = 0; i < 5; i++) {\n\n            if ( rating > i ){\n                stars.push(<svg key={`${i}_${rating}`} className=\"star active\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8 12.216L12.944 15.2L11.632 9.576L16 5.792L10.248 5.304L8 0L5.752 5.304L0 5.792L4.368 9.576L3.056 15.2L8 12.216Z\" fill=\"#E3E3E3\"/></svg>);\n            }else{\n                stars.push(<svg  key={`${i}_${rating}`}className=\"star\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8 12.216L12.944 15.2L11.632 9.576L16 5.792L10.248 5.304L8 0L5.752 5.304L0 5.792L4.368 9.576L3.056 15.2L8 12.216Z\" fill=\"#E3E3E3\"/></svg>);\n            }\n\n        }\n\n        return (\n            <div className=\"rating\">\n                { stars }\n            </div>\n        )\n\n    }\n\n\treturn (\n\n\t\t<div className=\"ReviewsBlock\">\n          <h2 className=\"common_title\">Отзывы посетителей</h2>\n          <div className=\"review-list\">\n            <div className=\"row align-items-center justify-content-between review-list__top\">\n              <div className=\"col-lg-auto\">\n                <div className=\"review review-big\">\n                  <div className=\"review-tag\">\n                    <svg width=\"14\" height=\"15\" viewBox=\"0 0 14 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g><path d=\"M7 11.189L11.326 13.8L10.178 8.879L14 5.568L8.967 5.141L7 0.5L5.033 5.141L0 5.568L3.822 8.879L2.674 13.8L7 11.189Z\" fill=\"#CF9259\"/></g><defs><clipPath id=\"clip0_1623_8617\"><rect width=\"14\" height=\"14\" fill=\"white\" transform=\"translate(0 0.5)\"/></clipPath></defs></svg>\n                    <span>{ getAverageReview(reviews) }</span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-lg-auto\">\n                <div className=\"wrapper\">\n                  <a href=\"#\" className=\"btn btn-dark\">Оставить отзыв</a>\n                </div>\n              </div>\n            </div>\n            <div className=\"row justify-content-between align-items-center\">\n              <div className=\"col-auto\">\n                <div className=\"review-count text-gray\">\n                  {getRatingCount(reviews)} {getRightEndingFound(getRatingCount(reviews))}\n                </div> \n              </div>\n              <div className=\"col-auto\">\n\n                <CatalogSort items={[ 'По умолчанию', 'По рейтингу', 'По дате создания']} />\n\n              </div>\n            </div>\n            <div className=\"review-list__items\">\n\n                {\n                    reviews && reviews.map( (item, index) => (\n\n                        <div className=\"review-item\" key={`${item.id}_${index}`}>\n                            <div className=\"row\">\n                              <div className=\"col-md-3\">\n                                <div className=\"name\">\n                                  Екатерина\n                                </div>\n                                <div className=\"date\">\n                                  {item.created_at}\n                                </div>\n                                {\n                                    item.rating && (\n                                        getRatingStars( Number(item.rating) )\n                                    )\n                                }\n                              </div>\n                              <div className=\"col-md-9\">\n                                <div className=\"review-text\">\n                                    {\n                                        item.advantage ? (\n\n                                            <div className=\"review-text__selection\">\n                                                <div className=\"review_text__label\">\n                                                  Достоинства\n                                                </div>\n                                                <div className=\"review-text__main\">\n                                                  { item.advantage }\n                                                </div>\n                                            </div>\n\n                                        ) : ''\n                                    }\n                                    {\n                                        item.flaw ? (\n\n                                            <div className=\"review-text__selection\">\n                                                <div className=\"review_text__label\">\n                                                  Недостатки\n                                                </div>\n                                                <div className=\"review-text__main\">\n                                                  { item.flaw }\n                                                </div>\n                                            </div>\n\n                                        ) : ''\n                                    }\n\n                                </div>\n                                \n                              </div>\n                            </div>\n                          </div>\n\n                    ) ) \n                }\n                \n            </div>\n            \n          </div>\n        </div>\n\n\t);\n\n}\n\nexport default ReviewsBlock;"]},"metadata":{},"sourceType":"module"}